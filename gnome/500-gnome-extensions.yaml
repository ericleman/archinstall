- name: deploy my extensions
  include_tasks: 501-deploy-extensions.yaml
  loop: 
    - custom-panel@ericleman.com
    - undecorate-windows@ericleman.com
    - tiling-windows@ericleman.com
    - dynamic-colors@ericleman.com
    - dynamic-wallpaper@ericleman.com

- name: Blur my Shell
  block:
    - name: install extension
      aur:
        use: yay
        name: gnome-shell-extension-blur-my-shell
      become: yes
      become_user: eric
    - name: blur except dash
      become_user: eric
      dconf: key="/org/gnome/shell/extensions/blur-my-shell/dash-to-dock/blur" value="false"
    - name: hack level for Blur my Shell
      become_user: eric
      dconf: key="/org/gnome/shell/extensions/blur-my-shell/hacks-level" value="2"
    - name: Applications to blur
      become_user: eric
      dconf: key="/org/gnome/shell/extensions/blur-my-shell/applications/whitelist" value="['Alacritty','kitty']"
    - name: Enable extension
      include_tasks: 502-enable-extensions.yaml
      vars:
        uuid: "blur-my-shell@aunetx"

- name: User theme
  block:
    - name: Enable extension
      include_tasks: 502-enable-extensions.yaml
      vars:
        uuid: "user-theme@gnome-shell-extensions.gcampax.github.com"

- name: APP INDICATOR
  block:
    - name: install gnome-shell-extension-tray-icons-reloaded
      aur:
        use: yay
        name: gnome-shell-extension-tray-icons-reloaded
      become: yes
      become_user: eric
    - name: Enable extension
      include_tasks: 502-enable-extensions.yaml
      vars:
        uuid: "trayIconsReloaded@selfmade.pl"

#- name: Media Control
#  block:
#    - name: install gnome-shell-extension-media-controls
#      aur:
#        use: yay
#        name: gnome-shell-extension-media-controls
#      become: yes
#      become_user: eric
#    - name: Enable extension
#      include_tasks: 502-enable-extensions.yaml
#      vars:
#        uuid: "mediacontrols@cliffniff.github.com"
